# Photo Processing Service Configuration
# Copy this file to .env and adjust values for your environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MySQL database connection settings
MYSQL_HOST=localhost
MYSQL_PORT=3307
MYSQL_USER=photo
MYSQL_PASSWORD=your_secure_password_here
MYSQL_DATABASE=photo-process
MYSQL_ROOT_PASSWORD=your_root_password_here

# =============================================================================
# STORAGE PATHS
# =============================================================================

# Source directory where original photos are stored (iPhone backup location)
MEDIA_SOURCE_DIR=/mnt/sg1/uploads/stephen/iphone

# Directory where processed photos and metadata will be stored
MEDIA_PROCESSED_DIR=/media/stephen/Expansion/photos/processed

# Optional: Specify custom paths for different data types
# If not set, these will default to subdirectories of MEDIA_PROCESSED_DIR
MEDIA_THUMBNAIL_DIR=/media/stephen/Expansion/photos/thumbnails
MEDIA_CACHE_DIR=/media/stephen/Expansion/photos/cache
MEDIA_LOGS_DIR=/media/stephen/Expansion/photos/logs

# =============================================================================
# AI & PROCESSING CONFIGURATION
# =============================================================================

# Object Detection Settings
OBJECT_DETECTION_ENABLED=true

# Object Detection Confidence Thresholds (Granular Control)
OBJECT_DETECTION_CONFIDENCE_DETECTION=0.75      # Min confidence to detect and save objects
OBJECT_DETECTION_CONFIDENCE_SEARCH=0.5          # Min confidence for search results (more liberal)
OBJECT_DETECTION_CONFIDENCE_HIGH_QUALITY=0.85   # High confidence for priority/featured objects

# Face Detection Settings  
FACE_DETECTION_ENABLED=true

# Face Detection Confidence Thresholds (Granular Control)
FACE_DETECTION_CONFIDENCE_DETECTION=0.8         # CompreFace detection threshold
FACE_DETECTION_CONFIDENCE_REVIEW=0.75           # Min confidence to show in review queue
FACE_DETECTION_CONFIDENCE_AUTO_ASSIGN=0.99      # Min confidence for automatic assignment
FACE_DETECTION_CONFIDENCE_GENDER=0.7            # Gender prediction confidence
FACE_DETECTION_CONFIDENCE_AGE=0.7               # Age prediction confidence

# Face Recognition Confidence Thresholds (Granular Control)
FACE_RECOGNITION_CONFIDENCE_REVIEW=0.75         # Show potential matches for manual review
FACE_RECOGNITION_CONFIDENCE_AUTO_ASSIGN=0.99    # Auto-assign faces without human review
FACE_RECOGNITION_CONFIDENCE_SIMILARITY=0.65     # Min similarity to consider a match

# Face Recognition Workflow Settings
FACE_RECOGNITION_ENABLE_AUTO_ASSIGNMENT=true    # Enable automatic face assignment
FACE_RECOGNITION_ENABLE_REVIEW_QUEUE=true       # Enable manual review queue
FACE_RECOGNITION_MAX_REVIEW_QUEUE_SIZE=1000     # Max items in review queue

# Screenshot Detection Settings
SCREENSHOT_DETECTION_ENABLED=true
SCREENSHOT_DETECTION_THRESHOLD=60

# =============================================================================
# COMPREFACE AI SERVICE
# =============================================================================

# CompreFace service URL (for face detection and recognition)
COMPREFACE_URL=http://localhost:8000

# CompreFace API keys (optional, for enhanced security)
# COMPREFACE_API_KEY=your_api_key_here
# COMPREFACE_DETECT_API_KEY=your_detect_key_here  
# COMPREFACE_RECOGNIZE_API_KEY=your_recognize_key_here

# CompreFace timeout and concurrency settings
COMPREFACE_TIMEOUT=10000
COMPREFACE_MAX_CONCURRENCY=5

# =============================================================================
# IMAGE PROCESSING
# =============================================================================

# Thumbnail generation settings
IMAGE_THUMBNAIL_SIZE=256
IMAGE_JPEG_QUALITY=85

# Image cache timeout (in seconds)
IMAGE_CACHE_TIMEOUT=86400

# =============================================================================
# SERVER & API SETTINGS
# =============================================================================

# Web server port
SERVER_PORT=9000

# Gallery pagination settings
GALLERY_PAGE_SIZE=50

# Search result limits
SEARCH_LIMIT=100

# Photo processing batch size (how many photos to process at once)
SCAN_BATCH_SIZE=2

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable major features
FEATURE_FACE_RECOGNITION=true
FEATURE_OBJECT_DETECTION=true
FEATURE_SCREENSHOT_DETECTION=true

# Future admin panel API (not yet implemented)
FEATURE_API_CONFIG=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Object detection batch size for better performance
OBJECT_DETECTION_BATCH_SIZE=2

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# (Future) API authentication settings
# API_SECRET_KEY=your_secret_key_here
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=secure_admin_password

# =============================================================================
# LOGGING & DEBUGGING
# =============================================================================

# Log level (error, warn, info, debug)
# LOG_LEVEL=info

# Enable detailed processing logs
# DEBUG_PROCESSING=false

# =============================================================================
# LEGACY SUPPORT
# =============================================================================
# These variables are still supported but deprecated
# Use the new standardized variables above instead

# Database (Legacy - use MYSQL_* variables above)
# mysql_host=localhost          # Use MYSQL_HOST instead
# mysql_port=3307               # Use MYSQL_PORT instead  
# mysql_user=photo              # Use MYSQL_USER instead
# mysql_pass=password           # Use MYSQL_PASSWORD instead
# mysql_db=photo-process        # Use MYSQL_DATABASE instead
# mysql_root_password=password  # Use MYSQL_ROOT_PASSWORD instead

# Storage (Legacy - use MEDIA_* variables above)
# media_source_dir=/source/path # Use MEDIA_SOURCE_DIR instead
# media_dest_dir=/dest/path     # Use MEDIA_PROCESSED_DIR instead

# Confidence Thresholds (Legacy - use granular settings above)
# OBJECT_DETECTION_MIN_CONFIDENCE=0.75  # Use OBJECT_DETECTION_CONFIDENCE_DETECTION instead
# FACE_DETECTION_THRESHOLD=0.8          # Use FACE_DETECTION_CONFIDENCE_DETECTION instead

# =============================================================================
# QUICK START EXAMPLES
# =============================================================================

# Minimal configuration for development:
# MYSQL_HOST=localhost
# MYSQL_PASSWORD=your_password
# MEDIA_SOURCE_DIR=/path/to/your/photos
# MEDIA_PROCESSED_DIR=/path/to/processed/output

# High-performance configuration:
# SCAN_BATCH_SIZE=4
# COMPREFACE_MAX_CONCURRENCY=10
# OBJECT_DETECTION_MIN_CONFIDENCE=0.85

# Storage-optimized configuration:
# IMAGE_THUMBNAIL_SIZE=128
# IMAGE_JPEG_QUALITY=75
# IMAGE_CACHE_TIMEOUT=43200

# Security-focused configuration:
# FEATURE_API_CONFIG=false
# (Add API_SECRET_KEY when admin panel is implemented)